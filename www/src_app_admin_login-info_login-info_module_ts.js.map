{"version":3,"file":"src_app_admin_login-info_login-info_module_ts.js","mappings":"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","sources":["./src/app/admin/login-info/login-info-routing.module.ts","./src/app/admin/login-info/login-info.module.ts","./src/app/admin/login-info/login-info.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginInfoPage } from './login-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginInfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginInfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginInfoPageRoutingModule } from './login-info-routing.module';\n\nimport { LoginInfoPage } from './login-info.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginInfoPageRoutingModule\n  ],\n  declarations: [LoginInfoPage]\n})\nexport class LoginInfoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ApiService } from 'src/app/service/api.service';\nimport { FirebaseAuthenticationService } from 'src/app/service/firebase-authentication.service';\nimport {updatePassword, getAuth, updateEmail} from 'firebase/auth'\nimport { FirestoreService } from 'src/app/service/firestore.service';\nimport { async } from '@firebase/util';\ndeclare let Email : any;\n\n@Component({\n  selector: 'app-login-info',\n  templateUrl: './login-info.page.html',\n  styleUrls: ['./login-info.page.scss'],\n})\nexport class LoginInfoPage implements OnInit {\n\npublic textarea = false;\nmessage:string;\n   data:any;\n   password:any;\n   numberId:any;\n   emailId:any;\n   taxDetails:any=[];\n  constructor(private router: Router,\n              private api: ApiService,\n              private authentication: FirebaseAuthenticationService,\n              private firestore: FirestoreService,\n              private Aroute: ActivatedRoute) { \n    // this.Aroute.queryParams.subscribe(()=>\n    // {\n      this.data = this.router.getCurrentNavigation().extras.state.item\n   \n    // })\n    this.data['tax_Details'].forEach(tax =>{\n      // console.log('details', tax);\n      this.taxDetails.push( tax)\n    })\n    console.log('details', this.taxDetails);\n    console.log('details', this.data);\n    this.password = this.data.Confirm_new_password !== null? this.data.Confirm_new_password : this.data.temprory_password\n    // console.log('details', this.data['tax_Details']);\n  }\n\n  ngOnInit() {\n  }\n\n  showtextarea(){\n    this.textarea = !this.textarea;\n  }\n\n  sendVendorEmail(){\n    // const email = new email.send()\n    Email.send({\n        Host : \"smtp.elasticemail.com\",\n        Username : \"vendordeveloper22@gmail.com\",\n        Password : \"EBB99C1A1A1C71FFE9E6F9EE64F38E041E20\",\n        // To : document.getElementById('requestEmail').value,\n        To : this.data.requestEmail,\n        From : 'vendordeveloper22@gmail.com',\n        Subject : \"vendor account\",\n        Body : `${'we have created a new vendor account for you.Here is the link to activate the account.'}\n                 Link: 'https://vendorweb-f72c9.web.app/pages/login',\n                 temprory Id : ${this.data.temporaryId},\n                 password : ${this.data.Confirm_new_password}\n                 description: ${this.message}\n                 `,\n                 \n    }).then(message =>{\n      alert('message sent')\n      console.log(message)\n      this.router.navigate(['admin/vendor-info'])\n    })\n  }\n\n  approveDetail(){\n    console.log(this.password)\n    this.authentication.login(this.data.temporaryId+'@gmail.com', this.password).then(use =>{\n      console.log(use)\n      this.createPass()\n    }).catch(async err =>{\n      console.log(err)\n      const toast=await this.api.createToast('already approved in this vendorId', false,\"middle\")\n      await toast.present();\n    })\n  }\n\n  createPass(){\n    var random_id = '';\n  // var characters = 'abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  var characters = '1234567890';\n  for(var i=0; i < 10; i++){\n    random_id += characters.charAt(Math.floor(Math.random() * characters.length)); \n    this.numberId = random_id\n    console.log(this.numberId)\n  }\n  this.emailId = this.numberId+\"@gmail.com\"\n\n    const auth = getAuth()\n    const user = auth.currentUser\n    console.log(auth, user)\n    updateEmail(user, this.emailId).then(async res =>{\n      console.log(res)\n      const permenant:any ={\n        permenantId: this.numberId,\n        approved: true,\n    }\n      // this.router.navigate(['pages/vendor-profile'])\n      this.firestore.update('vendorAdd',this.data.id, permenant).then(data =>{\n        console.log(data)\n      })\n      this.sendPermenantEmail();\n      const toast=await this.api.createToasts('approved in this vendorId', false,\"middle\")\n      await toast.present();\n\n    }).catch(async err =>{\n      console.log(err)\n      const toast=await this.api.createToast('already approved in this vendorId', false,\"middle\")\n      await toast.present();\n\n    })\n  }\n\n  sendPermenantEmail(){\n    // const email = new email.send()\n    Email.send({\n        Host : \"smtp.elasticemail.com\",\n        Username : \"vendordeveloper22@gmail.com\",\n        Password : \"EBB99C1A1A1C71FFE9E6F9EE64F38E041E20\",\n        // To : document.getElementById('requestEmail').value,\n        To : this.data.requestEmail,\n        From : 'vendordeveloper22@gmail.com',\n        Subject : \"vendor account\",\n        Body : `${'we have created a new vendor account for you.Here is the link to activate the account.'}\n                 Link: 'https://vendorweb-f72c9.web.app/pages/login',\n                 permanent Id : ${this.numberId},\n                 password : ${this.password}\n                 `,\n                 \n    }).then(message =>{\n      alert('message sent')\n      console.log(message)\n      this.router.navigate(['admin/vendor-info'])\n    })\n  }\n\n}\n"],"names":["Component","Router","ActivatedRoute","ApiService","FirebaseAuthenticationService","getAuth","updateEmail","FirestoreService","LoginInfoPage","constructor","router","api","authentication","firestore","Aroute","data","getCurrentNavigation","extras","state","item","forEach","tax","taxDetails","push","console","log","password","Confirm_new_password","temprory_password","ngOnInit","showtextarea","textarea","sendVendorEmail","Email","send","Host","Username","Password","To","requestEmail","From","Subject","Body","temporaryId","message","then","alert","navigate","approveDetail","login","use","createPass","catch","err","toast","createToast","present","random_id","characters","i","charAt","Math","floor","random","length","numberId","emailId","auth","user","currentUser","res","permenant","permenantId","approved","update","id","sendPermenantEmail","createToasts","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}